<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width" />
	<meta name="author" content="侯雪林" />
	<meta name="robots" content="all" />
	<title>Hxl.blog·友链</title>
	<link rel="shortcut icon" th:href="@{/image/logo.png}"/>
	<link rel="icon" th:href="@{/image/logo.png}"/>
	<link rel="stylesheet" th:href="@{/font-awesome/css/font-awesome.min.css}">
	<link rel="stylesheet" th:href="@{/layui/css/layui.css}" />
	<link rel="stylesheet" th:href="@{/css/master.css}" />
	<link rel="stylesheet" th:href="@{/css/gloable.css}" />
	<link rel="stylesheet" th:href="@{/css/nprogress.css}" />
	<link rel="stylesheet" th:href="@{/css/about.css}" />
	<!--背景动画效果-->
	<script th:src="@{/js/bg/p5.min.js}"></script>
	<script th:src="@{/js/bg/index.js}"></script>
	<link rel="stylesheet" th:href="@{/css/style.css}">

	<link rel="stylesheet" th:href="@{/link/css/style.css}">
</head>
<body>
<th:block th:include="header.html"></th:block>
<div class="doc-container" id="doc-container">
	<div class="container-fixed">
		<div class="container-inner">
			<article class="link-apply">+友链申请</article>
			<div class="main">
				<h1 style="color: black">友链申请</h1>
				<div class="content">
					<div class="stepsForm">
						<form method="post" name="form" enctype="multipart/form-data">
							<div class="sf-steps">
								<div class="sf-steps-content">
									<div>
										<span></span> 友链申请说明
									</div>
									<div>
										<span></span> 申请填写
									</div>
									<div>
										<span></span> 提交
									</div>
								</div>
							</div>
							<div class="sf-steps-form sf-radius">

								<ul class="sf-content"> <!-- form step one -->
									<li style="font-weight: bold"><span style="color: red"><i class="layui-icon layui-icon-close"></i></span>经常宕机
										&nbsp;<span style="color: red"><i class="layui-icon layui-icon-close"></i></span>不合法规
										&nbsp;<span style="color: red"><i class="layui-icon layui-icon-close"></i></span>擦边球站
										&nbsp;<span style="color: red"><i class="layui-icon layui-icon-close"></i></span>红标报毒 </li>
									<li><strong>网站图标：</strong>xxxx://xxxx/xx/*.png</li>
									<li><strong>网站名称：</strong>******</li>
									<li><strong>网站地址：</strong>xxxx://xxxx.xxx</li>
									<li><strong>网站描述：</strong>*********</li>
								</ul>

								<ul class="sf-content"> <!-- form step two -->
									<li>
										<div class="sf_columns column_3">
											<label>网站图标:<input type="text" id="iconContainer" onclick="selectFile(this)" readonly name="iconContainer" placeholder="点击选择网站图标" data-required="true">
												<input type="file" id="file" hidden accept=".png,.jpg,.gif,.svg,.jpeg">
												<input type="text" id="icon" name="icon" hidden>
											</label>
										</div>
									</li>
									<li>
										<div class="sf_columns column_3">
											<label>网站名称:<input type="text" name="name" placeholder="网站名称" data-required="true"></label>
										</div>
									</li>
									<li>
										<div class="sf_columns column_3">
											<label>网站地址:<input type="text" name="addr" placeholder="网站地址" data-required="true"></label>
										</div>
									</li>
									<li>
										<div class="sf_columns column_3">
											<label>网站描述:<input type="text" name="description" placeholder="网站描述" data-required="true"></label>
										</div>
									</li>
								</ul>

								<ul class="sf-content" style="text-align: center;background-color: whitesmoke;"> <!-- form step tree -->
									<li>网站图标：<img id='icon-1' style="box-shadow: 2px 3px 41px #717c85;width:100px; height: 100px;border-radius: 50%;vertical-align: middle"></li>
									<li>网站名称：<span id="name-1"></span></li>
									<li>网站地址：<span id="addr-1"></span></li>
									<li>网站描述：<span id="description-1"></span></li>
								</ul>
							</div>

							<div class="sf-steps-navigation sf-align-right" style="text-align: right">
								<span id="sf-msg" class="sf-msg-error"></span>
								<button id="sf-prev" type="button" class="sf-button">Previous</button>
								<button id="sf-next" type="button" class="sf-button">Next</button>
							</div>
						</form>
						<script th:src="@{/link/js/jquery-2.1.1.min.js}"></script>
						<script>

							$(".stepsForm").stepsForm({
								width			:'100%',
								active			:0,
								errormsg		:'Check faulty fields.',
								sendbtntext		:'提交',
								posturl: "/applyFriendLink",
							});

							$(".container .themes>span").click(function(e) {
								$(".container .themes>span").removeClass("selectedx");
								$(this).addClass("selectedx");
								$(".stepsForm").removeClass().addClass("stepsForm");
								$(".stepsForm").addClass("sf-theme-"+$(this).attr("data-value"));
							});
						</script>

					</div>

				</div>
			</div>
			<script>
				form.reset();
				function selectFile(x){
					$(x).siblings("input[type='file']").click();
				}
				$("#sf-next").click(function () {
					$("#name-1").text($("input[name='name']").val());
					$("#addr-1").text($("input[name='addr']").val());
					$("#description-1").text($("input[name='description']").val());
				});
				$("input[name='name']").on('keyup', function () {
					$("#name-1").text($(this).val());

				});
				$("input[name='addr']").on('keyup', function () {
					$("#addr-1").text($(this).val());
				});
				$("input[name='description']").on('keyup', function () {
					$("#description-1").text($(this).val());
				});
				$("#file").on('change', function (e) {
					var file = e.target.files[0];
					$("#iconContainer").val(file.name);
					var reader = new FileReader();
					reader.readAsDataURL(file);
					reader.onload = function (e) {
						$("#icon").val(e.target.result);
						$("#icon-1").attr("src", e.target.result);
					}
				})
				$(".link-apply").click(function () {
					if ($(this).text() !== "-收起") {
						$(this).text("-收起");
					}else{
						$(this).text("+友链申请");
					}
					$(".main").slideToggle();
				});
			</script>
			<th:block th:if="${links != null}">
				<ul class="link-list">
					<li th:each="link: ${links}">
						<div class="pd-lr-10">
							<a th:href="${link.addr}" target="_blank">
								<img th:src="${link.icon}">
								<h3 th:text="${link.name}">侯雪林</h3>
								<p th:text="${link.description}"></p>
							</a>
						</div>
					</li>
				</ul>
			</th:block>
		</div>

	</div>
</div>
<th:block th:include="main_footer.html"></th:block>
<script th:src="@{/layui/layui.js}"></script>
<script th:src="@{/js/yss/gloable.js}"></script>
<script th:src="@{/js/plugins/nprogress.js}"></script>
<script>NProgress.start();</script>
<script th:src="@{/js/yss/article.js}"></script>
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/plugins/blogbenoitboucart.min.js}"></script>
<script>
	window.onload = function () {
		NProgress.done();
	};
</script>
</body>
</html>
